<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="stylesheet" 
          href=
"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" 
          integrity=
"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" 
          crossorigin="anonymous">
    <!-- fontawesome cdn For Icons -->
    <link rel="stylesheet"
          href=
"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" 
          integrity=
"sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" 
          crossorigin="anonymous" />
    <link rel="stylesheet"
          href=
"https://pro.fontawesome.com/releases/v5.10.0/css/all.css" 
          integrity=
"sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
          crossorigin="anonymous" />
    <title>30 Days Of React Challenge</title>
    <style type="text/css">

pre{padding: 4px;
background: #454;
font-size: 15px;
color: white;
margin:9px;
max-width:330px;
border-radius: 7px;
}

#buttons{padding-left:10px;}
#question{background:#ccc;
      color:black;
      text-align:left;
      margin:15px;
      border-radius:15px;
      padding:20px;}

/* On smaller screens, decrease text size */
@media only screen and (min-width: 500px) {
 }

body{background: #455;
     border:15px solid transparent;
     margin:0;
     border-image:url('https://github.com/maxwizardth/ReactProject/blob/main/React/Media/images%20(1).jpeg?raw=true') 40% round;}    
            h5{margin: 2px;} 
.fa{margin-left: 11px;color: white}
#AnswerBox{display: none;}

    </style>
  </head>

  <body>
    <div id="root">
      
    </div>
    <script src="quizData.js"></script>
    <script crossorigin
      src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin
      src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"> 
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">

const myImage = 'https://github.com/maxwizardth/ReactProject/blob/main/React/Media/Desert.jpg?raw=true'

class Header extends React.Component{

  render(){
    const headerStyle={background:`url(${myImage})`,
        color:'white',
        padding:'5px 0px 3px 18px',
        margin:'0px'}
    const {title,info}=this.props
        const h2Style={textAlign:'center',
                marginTop:'3px'}
    return (<div style={headerStyle}>
              <h2 style={h2Style}>
               Welcom to 30Days Of React Challenge
              </h2> 
                 
                   <h3>{title}</h3>
                    {info}
                 
        
             </div>)

  }
}



class Footer extends React.Component{
render(){
const contact=(<div>
                <h5>Call Hours: 9am-9pm (Mon-Fri)</h5>
                <span><a href="https://">
                    <i className="fa fa-phone logo" aria-hidden="true">+2349153036869</i>
                </a></span>
                <span><a href="https://">
                   <i className="fa fa-envelope logo" aria-hidden="true"> abdullahioladejo1@gmail.com</i>
                 </a></span>
               </div>)

const footerLogo=( <p>
                    <a href="https://web.facebook.com/abdullahi.oladejo.10">
                    <i className="fa fa-facebook-square logo" aria-hidden="true"></i>
                    </a>
                    <a href="https://wa.me/"><i className="fa fa-whatsapp logo" aria-hidden="true"></i>
                    </a>
              <a href="https://twitter.com/oladejoabdulla7">
              <i className="fa fa-twitter logo" aria-hidden="true"></i>
              </a>
                    <a href="https://www.instagram.com/maxwizardth/">
                    <i className="fa fa-instagram logo" aria-hidden="true"></i>
                    </a>
              <a href="https://linkedIn.com/"><i className="fa fa-linkedin-square logo" aria-hidden="true">
              </i>
              </a>
             <a href="https://github.com/maxwizardth">
             <i className="fa fa-github logo" aria-hidden="true"></i>
             </a><br/>
           <span id="copy">
              <small>CopyrightÂ© all reserved by Maxwizard</small>
            </span>
                  </p>)

        return (<footer style={{textAlign:'center',
                    color:'white',
                    background:'#0588b0',
                    padding:'5px'}}>
                <h2>Connect with Us<hr/></h2>
               {contact}
               {footerLogo}
              </footer>)}
          }


class Button extends React.Component{
  render(){
    const btnStyle={margin:'4px',
                    padding:'6px',
                    outline:'none',
                    borderRadius:'5px'}
  const {click,Class,text}=this.props
  return (<button type="button" 
           onClick={click}
           className={Class} 
           style={btnStyle}  
           >{text}
           </button>)}
}

class Question extends React.Component{
  constructor(props){
    super(props)
    this.state={question:''}
  }
  static getDerivedStateFromProps(props,state){
    return {data:props.data}
  }
   render(){
    const {question,code,options,Answer,summary}=this.state.data
    
      return (
       <div id='question'>          
          
          <h5>{question}</h5>
          <pre>{code}</pre>
          
          <div>
          <input type="radio" name={this.props.name} 
          className='option' value='A' onClick={this.props.click}/>
          A. {options.A}<br/>      
          <input type="radio" name={this.props.name} 
          className='option' value='B' onClick={this.props.click}/>
          B. {options.B}<br/>
          <input type="radio" name={this.props.name} 
          className='option' value='C' onClick={this.props.click}/>
          C. {options.C}<br/>
          <input type="radio" name={this.props.name} 
          className='option' value='D' onClick={this.props.click}/>
          D. {options.D}<br/>
          </div>
          <div id='AnswerBox' className='Answer' 
          style={{display:`${this.props.show}`}}>
          <h5>Answer: {Answer}</h5>
          <p id='summary'>{summary}</p>
          </div>
       </div>) }
   }



class App extends React.Component{
  constructor(props){
    super(props)
    this.state={userAnsers:Array(30),Answers:Array(30),
      score:0,number:0,correction:'none'}
  }
  static getDerivedStateFromProps(props,state){
   const data=props.data
   const Answers=data.map((question)=>question.Answer)
   return {Answers:Answers}
  }
 

 marker=()=>{
    let score=0
    this.state.Answers.forEach((answer,index)=>{
      score+=answer===this.state.userAnsers[index]?1:0
    })
    this.setState({score:score})
  }
   users=Array(30)

   userAnsers=(event)=>{
    const element=  event.target
    this.users[element.name]=element.value
     this.marker()
    this.setState({userAnsers:this.users})

  }

  Previous=()=>this.setState({number:(this.state.number-1+data.length)%data.length})

  Next=()=>this.setState({number:(this.state.number+1)%data.length})
  Submit=()=>this.setState({correction:'block'})

   render(){
    const index=this.state.number
     console.log(this.state)
   return (<div style={{background:'#fff',
                        padding:'4px',
                        textAlign:'left'}}>
               <h4>Question {index+1}</h4>
              <Question data={this.props.data[index]} name={index}
               key={index} click={this.userAnsers} show={this.state.correction}/>
               <div id='buttons'>
                <Button click={this.Previous} text='Previous' Class='btn-primary'/>
                <Button click={this.Next} text='Next' Class='btn-primary'/>
                <Button click={this.Submit} text='Submit' Class='btn-danger'/>
               </div>
                </div>)
   }
 }
          
     const app= ( <div>
               <Header info=<p>A URL shortener built with powerful tools to help you grow and protect your brand.
               all you have to do is paste or type your long address or link. then click shorten button
               and you get a short link</p>
               title='Day13: Link Shortener'/>
               <App data={data}/>
               <Footer/>
              </div>)

ReactDOM.render(app, document.getElementById('root'));




    </script>
  </body>
</html>
