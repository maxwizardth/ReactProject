<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>30 Days Of React Challenge</title>
    <style type="text/css">
      body{background: #8ec0ff;
         border:15px solid transparent;
         margin:0;
        border-image:url(https://github.com/maxwizardth/ReactProject/blob/main/React/Media/Desert.jpg?raw=true) 40% round;}    
            h5{margin: 2px;} 
                .fa{margin-left: 11px;color: white}
               
    
    </style>
  </head>

  <body>
    <div id="root">
      
    </div>
    <script src="countries.js"></script>
    <script crossorigin
      src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin
      src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"> 
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">

const myImage = 'https://github.com/maxwizardth/ReactProject/blob/main/React/Media/Desert.jpg?raw=true'

class Header extends React.Component{
  render(){
    const headerStyle={background:`url(${myImage})`,
        color:'white',
        padding:'5px 0px 3px 18px',
        margin:'0px'}
    const {title,info}=this.props
        const h2Style={textAlign:'center',
                marginTop:'3px'}
    return (<div style={headerStyle}>
              <h2 style={h2Style}>
               Welcom to 30Days Of React Challenge
              </h2> 
                 
                   <h3>{title}</h3>
                    {info}
                 
        
             </div>)

  }
}



class Footer extends React.Component{
render(){
const contact=(<div>
                <h5>Call Hours: 9am-9pm (Mon-Fri)</h5>
                <span><a href="https://">
                    <i className="fa fa-phone logo" aria-hidden="true">+2349153036869</i>
                </a></span>
                <span><a href="https://">
                   <i className="fa fa-envelope logo" aria-hidden="true"> abdullahioladejo1@gmail.com</i>
                 </a></span>
               </div>)

const footerLogo=( <p>
                    <a href="https://web.facebook.com/abdullahi.oladejo.10">
                    <i className="fa fa-facebook-square logo" aria-hidden="true"></i>
                    </a>
                    <a href="https://wa.me/"><i className="fa fa-whatsapp logo" aria-hidden="true"></i>
                    </a>
              <a href="https://twitter.com/oladejoabdulla7">
              <i className="fa fa-twitter logo" aria-hidden="true"></i>
              </a>
                    <a href="https://www.instagram.com/maxwizardth/">
                    <i className="fa fa-instagram logo" aria-hidden="true"></i>
                    </a>
              <a href="https://linkedIn.com/"><i className="fa fa-linkedin-square logo" aria-hidden="true">
              </i>
              </a>
             <a href="https://github.com/maxwizardth">
             <i className="fa fa-github logo" aria-hidden="true"></i>
             </a><br/>
           <span id="copy">
              <small>CopyrightÂ© all reserved by Maxwizard</small>
            </span>
                  </p>)

        return (<footer style={{textAlign:'center',
                    color:'white',
                    background:'#0588b0',
                    padding:'5px'}}>
                <h2>Connect with Us<hr/></h2>
               {contact}
               {footerLogo}
              </footer>)}
          }


class App extends React.Component{
    constructor(props){
      super(props)
      this.state={short_link:'https://github.com/'}
    }

     srcLink=React.createRef()
     result=React.createRef()
     copy=()=> {
  /* Get the text field */
  var copyText = document.getElementById("myInput");

  /* Select the text field */
  copyText.select();
  copyText.setSelectionRange(0, 99999); /* For mobile devices */

  /* Copy the text inside the text field */
  navigator.clipboard.writeText(copyText.value);
  alert('the link has been copied')
  
}



     gen=()=>{
      console.log(this.srcLink)
      alert(this.srcLink.current.value)
      let url=this.srcLink.current.value
      const options = {
        method: 'POST',
        headers: {
        'content-type': 'application/json',
        'X-RapidAPI-Key': '5e4331f760mshe0ce5b3e2ed365fp1cf19cjsn3ca0dcdb9d67',
        'X-RapidAPI-Host': 'url-shortener20.p.rapidapi.com'
  },
  body: '{"url":url}'
}

fetch('https://url-shortener20.p.rapidapi.com/shorten?url='+url, options)
  .then(response => response.json())
  .then(response => {
    console.log(response.short_link);
    this.setState({short_link:response.short_link})
  })

  .catch(err =>console.error(err));
}
     render(){
      
      const inputStyle={textAlign:'center',
                        width:'80%',
                        height:'50px',
                        borderRadius:'10px',
                        fontSize:'18px',
                        background:'white',}
      
      const buttonStyle={
                        textAlign:'center',
                        width:'80%',
                        height:'50px',
                        borderRadius:'10px',
                        fontSize:'18px',
                   background:'#4433a3',
                   margin:'9px',
                   color:'white'}
      const divStyle={
           background:'black',
           margin:'11px',
           maxWidth:'390px',
           borderRadius:'16px',
           padding:'15px',
           textAlign:'center'}
   

    return (
      <div style={{background:'white',
              padding:'15px',
              borderRadius:'8px',
              margin:'15px',
              textAlign:'center'}}>

        <h3>Link Shortener</h3>
          <input style={inputStyle} placeholder="Enter your link here" ref={this.srcLink}/>
          <button onClick={this.gen} style={buttonStyle}>Shorten</button>
          <p>By clicking <b>Shorten</b> button the app will generate a new link</p>
          <div style={{textAlign:'center'}}>
              <input style={{border:'solid white 3px',
                            color:'blue',
                            fontSize:'18px',
                            width:'60%',
                            textAlign:'center'}} id='myInput'
               value={this.state.short_link}/>
               <button onClick={this.copy} 
               style={{background:'#ccccee',
                       color:'blue',
                       border:'white',
                       width:'30%',
                       height:'30px',
                      
             }}>Copy</button>
          </div>

          
        </div>)
     }
  }


  const app=( <div>
               <Header info=<p>A URL shortener built with powerful tools to help you grow and protect your brand.
               all you have to do is paste or type your long address or link. then click shorten button
               and you get a short link</p>
               title='Day13: Link Shortener'/>
               <App/>
               <Footer/>
              </div>)
ReactDOM.render(app, document.getElementById('root'));



    </script>
  </body>
</html>

